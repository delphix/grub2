Description: Handle probing striped DM-RAID devices
Author: Robert Collins <robertc@robertcollins.net>
Author: Colin Watson <cjwatson@ubuntu.com>
Bug-Ubuntu: https://bugs.launchpad.net/bugs/803658
Forwarded: no
Last-Update: 2013-11-15

Index: b/grub-core/osdep/devmapper/getroot.c
===================================================================
--- a/grub-core/osdep/devmapper/getroot.c
+++ b/grub-core/osdep/devmapper/getroot.c
@@ -294,6 +294,12 @@
       grub_util_info ("%s child has no DM name", path);
       goto devmapper_out;
     }
+  if (strstr (child_name, "-") != 0)
+    {
+      grub_util_info ("%s child %s looks like a sub-layer\n",
+		      path, child_name);
+      goto devmapper_out;
+    }
   mapper_name = child_name;
   *is_part = 1;
   node = child;
